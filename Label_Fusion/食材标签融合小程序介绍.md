# 食材标签融合小程序介绍
[Read in English](./Food_Ingredient_Label_Fusion.md)
## 界面展示

<div style="text-align: center;">
<img src=".\cover.png" alt="Fusing Cover"  width="80%" height="80%">
</div>

## 功能介绍

该小程序主要作用是对前期标注的食材标签进行调整，有两大作用

1. 对于标签语义模糊的食材标签，如果无法判断其在食材树中的所属的节点（即食材类别），需要找到该食材标签对应的图片，人工判断是否需要更改或者删除该标签
2. 对于语义相近的食材标签，进行人工合并

## 运行方式
```
python fuse_label_gui.py
```
## 按钮作用

1. **根节点**：展示食材树的根节点
2. **上一级**：展示食材树的上一级
3. **下一级**：展示食材树的下一级
4. **拟融合节点**：将拟融合的节点放入该缓存区
5. **融合**：将缓存区语义相近的标签执行融合操作，该小程序会弹出一个用户输入框，用户输入融合后的标签名称，并将该融合标签放入左侧食材树当前展示层级中，需注意，**融合节点只能是叶子节点**
6. **撤销**：回撤一步操作，<font color=red>**仅用于回撤上一次的融合节点操作**</font>。对于其他功能不执行回撤
7. **保存**：保存数据，有两个数据需要保存：**食材树**以及**原始标签-融合标签映射字典**

**注意**：融合操作仅限于叶子节点，融合操作逻辑为：

1. 点击融合按钮，弹出输入框，用户输入融合后的标签，程序将该标签放入食材树当前展示层级，如果食材树中已存在该标签，则不执行放入操作
2. 在食材树中删除拟融合节点缓存区的原始节点

所以，按照以上逻辑，**该程序对于标签融合有多种操作方式**：

1. 普通叶子节点融合，融合后节点为食材树中新节点：选择任意两个叶子节点，点击融合按钮并输入一个新节点加入食材树
2. 普通叶子节点融合，融合后节点为食材树中已存在节点：选择任意两个叶子节点，点击融合按钮并输入食材树当前层级中已存在的节点
3. 普通叶子节点更改节点名称：选择任意一个叶子节点，点击融合按钮并输入新节点名称，将其放入食材树当前层级中